<!DOCTYPE html>
<html>
<head>
	<mete></mete>
	<title>time colck</title>
	<script type='text/javascript' src='jquery-1.11.1.min.js'></script>
</head>
<body>
	<p id="runtime"></p>
	<canvas id="canvas" width="500" height="600" style="border-bottom: solid 1px black;display: block;margin: 50px auto;">
		Browser version not supported canvas！
	</canvas>
	<script>
		window.onload=function load(){

			var canvas=document.getElementById("canvas");
			context=canvas.getContext("2d");

			var x=250;var y=250;
			var mx=250;var my=50;
			var coordinate='coordinate';
			
			var time=new Date();
			var s1=time.getSeconds();
			var news=s1;
			var lins=2*news;

			var theme="black";
			
			//创建周
			var a = new Array("日", "一", "二", "三", "四", "五", "六");  

			//开始计时器
			var myVar=setInterval(function(){
				//获取时间
				time=new Date();
				var h=time.getHours();
				var m=time.getMinutes();
				var M=time.getMonth();
				var d=time.getDay();  
				
				//生成时间字符串
				m=checkTime(m);

				
				
				//清除
				context.clearRect(0,0,500,600);

				

				//方块
				//context.fillRect(x,y,20,20);
				//context.stroke();

				//线
				//context.moveTo(50,0);
				context.arc(x,y,240,0,1/30*Math.PI);

				//边线
				for (var i = 0; i<=360; i+=3) {
					context.beginPath();
					mtx=250+210*Math.cos(i*Math.PI/180);
					mty=250+210*Math.sin(i*Math.PI/180);
					ltx=250+230*Math.cos(i*Math.PI/180);
					lty=250+230*Math.sin(i*Math.PI/180);
					context.moveTo(mtx,mty);
					context.lineTo(ltx,lty);
					context.strokeStyle=theme;
					context.lineWidth=1;
					context.stroke();
				}

				lins+=0.2;

				mtx=250+230*Math.cos(3*(Math.round(lins)-30)*Math.PI/180);
				mty=250+230*Math.sin(3*(Math.round(lins)-30)*Math.PI/180);
				ltx=250+250*Math.cos(3*(Math.round(lins)-30)*Math.PI/180);
				lty=250+250*Math.sin(3*(Math.round(lins)-30)*Math.PI/180);
				context.moveTo(mtx,mty);
				context.lineTo(ltx,lty);
				context.strokeStyle=theme;
				context.lineWidth=1;
				context.stroke();

				//突出的线
				for (var i = 0; i<=7; i++) {
					mtx=250+230*Math.cos(3*(Math.round(lins)-30+i)*Math.PI/180);
					mty=250+230*Math.sin(3*(Math.round(lins)-30+i)*Math.PI/180);
					ltx=250+(250-i*3)*Math.cos(3*(Math.round(lins)-30+i)*Math.PI/180);
					lty=250+(250-i*3)*Math.sin(3*(Math.round(lins)-30+i)*Math.PI/180);
					context.moveTo(mtx,mty);
					context.lineTo(ltx,lty);
					context.strokeStyle=theme;
					context.lineWidth=1;
					context.stroke();
				}

				for (var i = 0; i<=10; i++) {
					mtx=250+230*Math.cos(3*(Math.round(lins)-30-i)*Math.PI/180);
					mty=250+230*Math.sin(3*(Math.round(lins)-30-i)*Math.PI/180);
					ltx=250+(250-i*3)*Math.cos(3*(Math.round(lins)-30-i)*Math.PI/180);
					lty=250+(250-i*3)*Math.sin(3*(Math.round(lins)-30-i)*Math.PI/180);
					context.moveTo(mtx,mty);
					context.lineTo(ltx,lty);
					context.strokeStyle=theme;
					context.lineWidth=1;
					context.stroke();
				}
				
				
				

				news+=0.1;
				mx=250+190*Math.cos(6*(news-15)*Math.PI/180);
				my=250+190*Math.sin(6*(news-15)*Math.PI/180);

				context.beginPath();
				context.arc(mx,my,15,0,2*Math.PI);
				context.strokeStyle="red";
				context.fillStyle="red";
				context.fill();
				context.stroke();

				coordinate='x:'+Math.round(x)+' y:'+Math.round(y);
				mcoordinate='mx:'+Math.round(mx)+' my:'+Math.round(my);
				mtcoordinate='mtx:'+Math.round(mtx)+' mty:'+Math.round(mty);
				context.beginPath();
				context.fillStyle=theme;
				context.font="120px 宋体";
				//context.strokeText("大圆圆心:"+coordinate,150,150);
				//context.strokeText("小圆圆心:"+mcoordinate,150,100);
				//context.strokeText("长线:"+mtcoordinate,150,125);


				
				context.fillText(h+":"+m,100,290);
				
				context.font="30px Arial";
				context.fillStyle=theme;

				context.fillText("中国标准时间",160,530);
				context.font="22px Arial";
				context.fillText(M+"月"+d+"日"+"星期"+ a[d],180,570);
				context.fill();
				//context.strokeText(Math.round(news),250,250);


			},100);
		}

		function checkTime(i)
		{
			if (i<10) 
				{i="0" + i}
			return i
		}
	</script>
	
	
</body>
</html>